{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst initialState = {\n  posts: [{\n    id: 1,\n    message: \"This is my first post.\",\n    likesCount: 12\n  }, {\n    id: 1,\n    message: \"Second post. Hello everybody\",\n    likesCount: 11\n  }],\n  newPostText: \"it-kamasutra\"\n};\n\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  //debugger\n  //********* POST: ADD_POST **** ****/\n  if (action.type === ADD_POST) {\n    const newPost = {\n      id: 3,\n      message: state.newPostText,\n      likesCount: 0\n    }; //const stateCopy = {...state}\n    //const stateCopy = JSON.parse(JSON.stringify(state)); //потому, что меняем значение внутреннего объекта\n    //stateCopy.posts.push(newPost);\n    //thiseCopy.newPostText = '';\n    //this._callSubscriber(this._state);\n    //const stateCopy = JSON.parse(JSON.stringify(state)); //потому, что меняем значение внутреннего объекта\n    //stateCopy.posts.push(newPost);\n    //thiseCopy.newPostText = '';\n\n    state.posts.push(newPost);\n    state.newPostText = ''; //this._callSubscriber(this._state);\n\n    return { ...state\n    }; //return stateCopy;\n  } //*********POST: UPDATE_NEW_POST_TEXT ********/\n\n\n  if (action.type === UPDATE_NEW_POST_TEXT) {\n    state.newPostText = action.newText; //this._callSubscriber(this._state);\n\n    return { ...state\n    }; //можно и так, меняем значение только в поверхностных свойствах\n  }\n\n  return state;\n};\n\nconst addPostActionCreator = () => ({\n  type: ADD_POST\n});\n\nconst updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST_TEXT,\n  newText: text\n});\n\nexport { addPostActionCreator, updateNewPostTextActionCreator };\nexport default profileReducer;","map":{"version":3,"names":["ADD_POST","UPDATE_NEW_POST_TEXT","initialState","posts","id","message","likesCount","newPostText","profileReducer","state","action","type","newPost","push","newText","addPostActionCreator","updateNewPostTextActionCreator","text"],"sources":["/home/roman/wwwl/85_react/react_kabzda2/src/redux/reducer-profile.js"],"sourcesContent":["\nconst ADD_POST = 'ADD-POST'\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\n\nconst initialState = {\n  posts: [\n    { id: 1, message: \"This is my first post.\", likesCount: 12 },\n    { id: 1, message: \"Second post. Hello everybody\", likesCount: 11 },\n  ],\n  newPostText: \"it-kamasutra\",\n}\n\nconst profileReducer = (state=initialState, action) => {\n    //debugger\n    //********* POST: ADD_POST **** ****/\n    if (action.type === ADD_POST) {\n        const newPost = {\n          id: 3,\n          message: state.newPostText,\n          likesCount: 0,\n        };\n        //const stateCopy = {...state}\n        //const stateCopy = JSON.parse(JSON.stringify(state)); //потому, что меняем значение внутреннего объекта\n        //stateCopy.posts.push(newPost);\n        //thiseCopy.newPostText = '';\n        //this._callSubscriber(this._state);\n\n        //const stateCopy = JSON.parse(JSON.stringify(state)); //потому, что меняем значение внутреннего объекта\n        //stateCopy.posts.push(newPost);\n        //thiseCopy.newPostText = '';\n        state.posts.push(newPost);\n        state.newPostText = '';\n        //this._callSubscriber(this._state);\n        return {...state};\n        //return stateCopy;\n      }\n      //*********POST: UPDATE_NEW_POST_TEXT ********/\n      if (action.type === UPDATE_NEW_POST_TEXT) {\n        state.newPostText = action.newText;\n        //this._callSubscriber(this._state);\n        return {...state}; //можно и так, меняем значение только в поверхностных свойствах\n      }\n\n    return state\n}\n\n\nconst addPostActionCreator = () => ({type: ADD_POST});\n\nconst updateNewPostTextActionCreator = text => (\n  {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text\n  }\n);\n\nexport {addPostActionCreator, updateNewPostTextActionCreator}\nexport default profileReducer"],"mappings":"AACA,MAAMA,QAAQ,GAAG,UAAjB;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,CACL;IAAEC,EAAE,EAAE,CAAN;IAASC,OAAO,EAAE,wBAAlB;IAA4CC,UAAU,EAAE;EAAxD,CADK,EAEL;IAAEF,EAAE,EAAE,CAAN;IAASC,OAAO,EAAE,8BAAlB;IAAkDC,UAAU,EAAE;EAA9D,CAFK,CADY;EAKnBC,WAAW,EAAE;AALM,CAArB;;AAQA,MAAMC,cAAc,GAAG,YAAgC;EAAA,IAA/BC,KAA+B,uEAAzBP,YAAyB;EAAA,IAAXQ,MAAW;;EACnD;EACA;EACA,IAAIA,MAAM,CAACC,IAAP,KAAgBX,QAApB,EAA8B;IAC1B,MAAMY,OAAO,GAAG;MACdR,EAAE,EAAE,CADU;MAEdC,OAAO,EAAEI,KAAK,CAACF,WAFD;MAGdD,UAAU,EAAE;IAHE,CAAhB,CAD0B,CAM1B;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;;IACAG,KAAK,CAACN,KAAN,CAAYU,IAAZ,CAAiBD,OAAjB;IACAH,KAAK,CAACF,WAAN,GAAoB,EAApB,CAhB0B,CAiB1B;;IACA,OAAO,EAAC,GAAGE;IAAJ,CAAP,CAlB0B,CAmB1B;EACD,CAvBgD,CAwBjD;;;EACA,IAAIC,MAAM,CAACC,IAAP,KAAgBV,oBAApB,EAA0C;IACxCQ,KAAK,CAACF,WAAN,GAAoBG,MAAM,CAACI,OAA3B,CADwC,CAExC;;IACA,OAAO,EAAC,GAAGL;IAAJ,CAAP,CAHwC,CAGrB;EACpB;;EAEH,OAAOA,KAAP;AACH,CAhCD;;AAmCA,MAAMM,oBAAoB,GAAG,OAAO;EAACJ,IAAI,EAAEX;AAAP,CAAP,CAA7B;;AAEA,MAAMgB,8BAA8B,GAAGC,IAAI,KACzC;EACEN,IAAI,EAAEV,oBADR;EAEEa,OAAO,EAAEG;AAFX,CADyC,CAA3C;;AAOA,SAAQF,oBAAR,EAA8BC,8BAA9B;AACA,eAAeR,cAAf"},"metadata":{},"sourceType":"module"}