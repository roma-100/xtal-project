{"ast":null,"code":"const FOLLOW = 'FOLLOW',\n      UNFOLLOW = 'UNFOLLOW',\n      SET_USERS = 'SET_USERS',\n      SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\n      SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst initialState = {\n  users: [],\n  pageSize: 2,\n  //limit users\n  totalUsersCount: 0,\n  currentPage: 3\n};\n\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === FOLLOW) {\n    const stateCopy = { ...state,\n      users: state.users.map( //возвр новый объект\n      user => {\n        return user.id === action.userID ? { ...user,\n          followed: true\n        } : user;\n      })\n    }; //debugger\n\n    return stateCopy;\n  }\n\n  if (action.type === UNFOLLOW) {\n    const stateCopy = { ...state,\n      users: state.users.map( //возвр новый объект\n      user => {\n        return user.id === action.userID ? { ...user,\n          followed: false\n        } : user;\n      })\n    }; //debugger\n\n    return stateCopy;\n  }\n\n  if (action.type === SET_USERS) {\n    const stateCopy = { //...state, users: [...state.users, ...action.users]\n      ...state,\n      users: action.users\n    }; //debugger\n\n    return stateCopy;\n  }\n\n  if (action.type === SET_CURRENT_PAGE) {\n    //debugger\n    const stateCopy = { ...state,\n      currentPage: action.currentPage\n    }; //debugger\n\n    return stateCopy;\n  }\n\n  return state;\n};\n\nconst followAC = userID => ({\n  type: FOLLOW,\n  userID\n}); //create action.type, action.userID\n\n\nconst unfollowAC = userID => ({\n  type: UNFOLLOW,\n  userID\n}); //create action.type, action.userID\n\n\nconst setUsersAC = users => ({\n  type: SET_USERS,\n  users\n}); //create action.type, action.users\n\n\nconst setCurrentPageAC = currentPage => ({\n  type: SET_CURRENT_PAGE,\n  currentPage\n});\n\nconst setTotalUsersCountAC = totalCount => ({\n  type: SET_TOTAL_USERS_COUNT,\n  totalCount\n});\n\nexport { followAC, unfollowAC, setUsersAC, setCurrentPageAC };\nexport default usersReducer;","map":{"version":3,"names":["FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","initialState","users","pageSize","totalUsersCount","currentPage","usersReducer","state","action","type","stateCopy","map","user","id","userID","followed","followAC","unfollowAC","setUsersAC","setCurrentPageAC","setTotalUsersCountAC","totalCount"],"sources":["/home/roman/wwwl/085_react/react_kabzda2/src/redux/reducer-users.js"],"sourcesContent":["const FOLLOW = 'FOLLOW', \n      UNFOLLOW = 'UNFOLLOW', \n      SET_USERS = 'SET_USERS',\n      SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\n      SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\n\nconst initialState = {\n  users:[],\n  pageSize: 2, //limit users\n  totalUsersCount: 0,\n  currentPage: 3\n};\n\nconst usersReducer = (state=initialState, action) => {\n    if (action.type === FOLLOW) {\n      \n        const stateCopy = { \n            ...state, \n            users: state.users.map ( //возвр новый объект\n                user => { \n                  return (user.id === action.userID) ? {...user,followed: true} : user;\n                }\n            )\n        }\n        //debugger\n        return stateCopy\n    }\n    if (action.type === UNFOLLOW) {\n      \n        const stateCopy = { \n            ...state, \n            users: state.users.map ( //возвр новый объект\n                user => { \n                    return (user.id === action.userID) ? {...user,followed: false} : user;\n                }\n            )\n        }\n        //debugger\n        return stateCopy\n    }\n    if (action.type === SET_USERS) {\n        const stateCopy = { \n            //...state, users: [...state.users, ...action.users]\n            ...state, users: action.users\n        }\n        //debugger\n        return stateCopy\n    }\n    \n    if (action.type === SET_CURRENT_PAGE) {\n        //debugger\n        const stateCopy = { \n            ...state, currentPage: action.currentPage\n        }\n        //debugger\n        return stateCopy\n    }    \n    return state\n}\n\nconst followAC = (userID) => ({ type: FOLLOW, userID}); //create action.type, action.userID\nconst unfollowAC = (userID) => ({ type: UNFOLLOW, userID});//create action.type, action.userID\nconst setUsersAC = users => ({ type: SET_USERS, users});//create action.type, action.users\nconst setCurrentPageAC = currentPage => ({ type: SET_CURRENT_PAGE, currentPage});\nconst setTotalUsersCountAC = totalCount => ({ type: SET_TOTAL_USERS_COUNT, totalCount});\n\nexport {followAC, unfollowAC, setUsersAC, setCurrentPageAC }\nexport default usersReducer"],"mappings":"AAAA,MAAMA,MAAM,GAAG,QAAf;AAAA,MACMC,QAAQ,GAAG,UADjB;AAAA,MAEMC,SAAS,GAAG,WAFlB;AAAA,MAGMC,gBAAgB,GAAG,kBAHzB;AAAA,MAIMC,qBAAqB,GAAG,uBAJ9B;AAMA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAC,EADa;EAEnBC,QAAQ,EAAE,CAFS;EAEN;EACbC,eAAe,EAAE,CAHE;EAInBC,WAAW,EAAE;AAJM,CAArB;;AAOA,MAAMC,YAAY,GAAG,YAAgC;EAAA,IAA/BC,KAA+B,uEAAzBN,YAAyB;EAAA,IAAXO,MAAW;;EACjD,IAAIA,MAAM,CAACC,IAAP,KAAgBb,MAApB,EAA4B;IAExB,MAAMc,SAAS,GAAG,EACd,GAAGH,KADW;MAEdL,KAAK,EAAEK,KAAK,CAACL,KAAN,CAAYS,GAAZ,EAAkB;MACrBC,IAAI,IAAI;QACN,OAAQA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,MAApB,GAA8B,EAAC,GAAGF,IAAJ;UAASG,QAAQ,EAAE;QAAnB,CAA9B,GAAyDH,IAAhE;MACD,CAHE;IAFO,CAAlB,CAFwB,CAUxB;;IACA,OAAOF,SAAP;EACH;;EACD,IAAIF,MAAM,CAACC,IAAP,KAAgBZ,QAApB,EAA8B;IAE1B,MAAMa,SAAS,GAAG,EACd,GAAGH,KADW;MAEdL,KAAK,EAAEK,KAAK,CAACL,KAAN,CAAYS,GAAZ,EAAkB;MACrBC,IAAI,IAAI;QACJ,OAAQA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,MAApB,GAA8B,EAAC,GAAGF,IAAJ;UAASG,QAAQ,EAAE;QAAnB,CAA9B,GAA0DH,IAAjE;MACH,CAHE;IAFO,CAAlB,CAF0B,CAU1B;;IACA,OAAOF,SAAP;EACH;;EACD,IAAIF,MAAM,CAACC,IAAP,KAAgBX,SAApB,EAA+B;IAC3B,MAAMY,SAAS,GAAG,EACd;MACA,GAAGH,KAFW;MAEJL,KAAK,EAAEM,MAAM,CAACN;IAFV,CAAlB,CAD2B,CAK3B;;IACA,OAAOQ,SAAP;EACH;;EAED,IAAIF,MAAM,CAACC,IAAP,KAAgBV,gBAApB,EAAsC;IAClC;IACA,MAAMW,SAAS,GAAG,EACd,GAAGH,KADW;MACJF,WAAW,EAAEG,MAAM,CAACH;IADhB,CAAlB,CAFkC,CAKlC;;IACA,OAAOK,SAAP;EACH;;EACD,OAAOH,KAAP;AACH,CA7CD;;AA+CA,MAAMS,QAAQ,GAAIF,MAAD,KAAa;EAAEL,IAAI,EAAEb,MAAR;EAAgBkB;AAAhB,CAAb,CAAjB,C,CAAwD;;;AACxD,MAAMG,UAAU,GAAIH,MAAD,KAAa;EAAEL,IAAI,EAAEZ,QAAR;EAAkBiB;AAAlB,CAAb,CAAnB,C,CAA2D;;;AAC3D,MAAMI,UAAU,GAAGhB,KAAK,KAAK;EAAEO,IAAI,EAAEX,SAAR;EAAmBI;AAAnB,CAAL,CAAxB,C,CAAwD;;;AACxD,MAAMiB,gBAAgB,GAAGd,WAAW,KAAK;EAAEI,IAAI,EAAEV,gBAAR;EAA0BM;AAA1B,CAAL,CAApC;;AACA,MAAMe,oBAAoB,GAAGC,UAAU,KAAK;EAAEZ,IAAI,EAAET,qBAAR;EAA+BqB;AAA/B,CAAL,CAAvC;;AAEA,SAAQL,QAAR,EAAkBC,UAAlB,EAA8BC,UAA9B,EAA0CC,gBAA1C;AACA,eAAeb,YAAf"},"metadata":{},"sourceType":"module"}