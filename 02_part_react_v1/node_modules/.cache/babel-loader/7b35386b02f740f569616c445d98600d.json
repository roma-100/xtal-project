{"ast":null,"code":"const FOLLOW = 'FOLLOW',\n      UNFOLLOW = 'UNFOLLOW',\n      SET_USERS = 'SET_USERS';\nconst initialState = {\n  users: [{\n    id: 1,\n    photoUrl: 'https://randomuser.me/api/portraits/med/men/5.jpg',\n    followed: false,\n    fullname: \"Dmitry\",\n    status: \"hello it's my status\",\n    location: {\n      city: \"Minsk\",\n      country: \"Belarus\"\n    }\n  }, {\n    id: 2,\n    photoUrl: 'https://randomuser.me/api/portraits/med/men/2.jpg',\n    followed: true,\n    fullname: \"Roman\",\n    status: \"Roman everywhere\",\n    location: {\n      city: \"Omsk\",\n      country: \"Russia\"\n    }\n  }, {\n    id: 3,\n    photoUrl: 'https://randomuser.me/api/portraits/med/men/3.jpg',\n    followed: false,\n    fullname: \"Ilon Musk\",\n    status: \"Follow me to the Mars\",\n    location: {\n      city: \"NY\",\n      country: \"USA\"\n    }\n  }]\n};\n\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === FOLLOW) {\n    deb;\n    const stateCopy = { ...state,\n      users: state.users.map( //возвр новый объект\n      user => {\n        return user.id === action.id ? { ...user,\n          followed: true\n        } : user;\n      })\n    };\n    return stateCopy;\n  }\n\n  if (action.type === UNFOLLOW) {\n    const stateCopy = { ...state,\n      users: state.users.map( //возвр новый объект\n      user => {\n        return user.id === action.id ? { ...user,\n          followed: false\n        } : user;\n      })\n    };\n    return stateCopy;\n  }\n\n  if (action.type === SET_USERS) {\n    const stateCopy = { ...state,\n      users: [...state.users, ...action.users]\n    };\n    return stateCopy;\n  }\n\n  return state;\n};\n\nconst followAC = userID => ({\n  type: FOLLOW,\n  userID\n});\n\nconst unfollowAC = userID => ({\n  type: UNFOLLOW,\n  userID\n});\n\nconst setUsersAC = users => ({\n  type: SET_USERS,\n  users\n});\n\nexport { followAC, unfollowAC, setUsersAC };\nexport default usersReducer;","map":{"version":3,"names":["FOLLOW","UNFOLLOW","SET_USERS","initialState","users","id","photoUrl","followed","fullname","status","location","city","country","usersReducer","state","action","type","deb","stateCopy","map","user","followAC","userID","unfollowAC","setUsersAC"],"sources":["/home/roman/wwwl/85_react/react_kabzda2/src/redux/reducer-users.js"],"sourcesContent":["const FOLLOW = 'FOLLOW', UNFOLLOW = 'UNFOLLOW', SET_USERS = 'SET_USERS';\n\nconst initialState = {\n  users: [\n    {\n      id: 1,\n      photoUrl: 'https://randomuser.me/api/portraits/med/men/5.jpg',\n      followed: false,\n      fullname: \"Dmitry\",\n      status: \"hello it's my status\",\n      location: { city: \"Minsk\", country: \"Belarus\" },\n    },\n    {\n      id: 2,\n      photoUrl: 'https://randomuser.me/api/portraits/med/men/2.jpg',\n      followed: true,\n      fullname: \"Roman\",\n      status: \"Roman everywhere\",\n      location: { city: \"Omsk\", country: \"Russia\" },\n    },\n    {\n      id: 3,\n      photoUrl: 'https://randomuser.me/api/portraits/med/men/3.jpg',\n      followed: false,\n      fullname: \"Ilon Musk\",\n      status: \"Follow me to the Mars\",\n      location: { city: \"NY\", country: \"USA\" },\n    },\n  ]\n};\n\nconst usersReducer = (state=initialState, action) => {\n    if (action.type === FOLLOW) {\n      deb\n        const stateCopy = { \n            ...state, \n            users: state.users.map ( //возвр новый объект\n                user => { \n                  return (user.id === action.id) ? {...user,followed: true} : user;\n                }\n            )\n        }\n        return stateCopy\n    }\n    if (action.type === UNFOLLOW) {\n        const stateCopy = { \n            ...state, \n            users: state.users.map ( //возвр новый объект\n                user => { \n                    return (user.id === action.id) ? {...user,followed: false} : user;\n                }\n            )\n        }\n        return stateCopy\n    }\n    if (action.type === SET_USERS) {\n        const stateCopy = { \n            ...state, users: [...state.users, ...action.users]\n        }\n        return stateCopy\n    }\n    \n    return state\n}\n\nconst followAC = (userID) => ({ type: FOLLOW, userID});\nconst unfollowAC = (userID) => ({ type: UNFOLLOW, userID});\nconst setUsersAC = users => ({ type: SET_USERS, users});\n\nexport {followAC, unfollowAC, setUsersAC}\nexport default usersReducer"],"mappings":"AAAA,MAAMA,MAAM,GAAG,QAAf;AAAA,MAAyBC,QAAQ,GAAG,UAApC;AAAA,MAAgDC,SAAS,GAAG,WAA5D;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,CACL;IACEC,EAAE,EAAE,CADN;IAEEC,QAAQ,EAAE,mDAFZ;IAGEC,QAAQ,EAAE,KAHZ;IAIEC,QAAQ,EAAE,QAJZ;IAKEC,MAAM,EAAE,sBALV;IAMEC,QAAQ,EAAE;MAAEC,IAAI,EAAE,OAAR;MAAiBC,OAAO,EAAE;IAA1B;EANZ,CADK,EASL;IACEP,EAAE,EAAE,CADN;IAEEC,QAAQ,EAAE,mDAFZ;IAGEC,QAAQ,EAAE,IAHZ;IAIEC,QAAQ,EAAE,OAJZ;IAKEC,MAAM,EAAE,kBALV;IAMEC,QAAQ,EAAE;MAAEC,IAAI,EAAE,MAAR;MAAgBC,OAAO,EAAE;IAAzB;EANZ,CATK,EAiBL;IACEP,EAAE,EAAE,CADN;IAEEC,QAAQ,EAAE,mDAFZ;IAGEC,QAAQ,EAAE,KAHZ;IAIEC,QAAQ,EAAE,WAJZ;IAKEC,MAAM,EAAE,uBALV;IAMEC,QAAQ,EAAE;MAAEC,IAAI,EAAE,IAAR;MAAcC,OAAO,EAAE;IAAvB;EANZ,CAjBK;AADY,CAArB;;AA6BA,MAAMC,YAAY,GAAG,YAAgC;EAAA,IAA/BC,KAA+B,uEAAzBX,YAAyB;EAAA,IAAXY,MAAW;;EACjD,IAAIA,MAAM,CAACC,IAAP,KAAgBhB,MAApB,EAA4B;IAC1BiB,GAAG;IACD,MAAMC,SAAS,GAAG,EACd,GAAGJ,KADW;MAEdV,KAAK,EAAEU,KAAK,CAACV,KAAN,CAAYe,GAAZ,EAAkB;MACrBC,IAAI,IAAI;QACN,OAAQA,IAAI,CAACf,EAAL,KAAYU,MAAM,CAACV,EAApB,GAA0B,EAAC,GAAGe,IAAJ;UAASb,QAAQ,EAAE;QAAnB,CAA1B,GAAqDa,IAA5D;MACD,CAHE;IAFO,CAAlB;IAQA,OAAOF,SAAP;EACH;;EACD,IAAIH,MAAM,CAACC,IAAP,KAAgBf,QAApB,EAA8B;IAC1B,MAAMiB,SAAS,GAAG,EACd,GAAGJ,KADW;MAEdV,KAAK,EAAEU,KAAK,CAACV,KAAN,CAAYe,GAAZ,EAAkB;MACrBC,IAAI,IAAI;QACJ,OAAQA,IAAI,CAACf,EAAL,KAAYU,MAAM,CAACV,EAApB,GAA0B,EAAC,GAAGe,IAAJ;UAASb,QAAQ,EAAE;QAAnB,CAA1B,GAAsDa,IAA7D;MACH,CAHE;IAFO,CAAlB;IAQA,OAAOF,SAAP;EACH;;EACD,IAAIH,MAAM,CAACC,IAAP,KAAgBd,SAApB,EAA+B;IAC3B,MAAMgB,SAAS,GAAG,EACd,GAAGJ,KADW;MACJV,KAAK,EAAE,CAAC,GAAGU,KAAK,CAACV,KAAV,EAAiB,GAAGW,MAAM,CAACX,KAA3B;IADH,CAAlB;IAGA,OAAOc,SAAP;EACH;;EAED,OAAOJ,KAAP;AACH,CAhCD;;AAkCA,MAAMO,QAAQ,GAAIC,MAAD,KAAa;EAAEN,IAAI,EAAEhB,MAAR;EAAgBsB;AAAhB,CAAb,CAAjB;;AACA,MAAMC,UAAU,GAAID,MAAD,KAAa;EAAEN,IAAI,EAAEf,QAAR;EAAkBqB;AAAlB,CAAb,CAAnB;;AACA,MAAME,UAAU,GAAGpB,KAAK,KAAK;EAAEY,IAAI,EAAEd,SAAR;EAAmBE;AAAnB,CAAL,CAAxB;;AAEA,SAAQiB,QAAR,EAAkBE,UAAlB,EAA8BC,UAA9B;AACA,eAAeX,YAAf"},"metadata":{},"sourceType":"module"}