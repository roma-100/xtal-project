{"ast":null,"code":"var _jsxFileName = \"/home/roman/wwwl/30_react/react_igor/src/components/Profile/Profileinfo/ProfileStatus.jsx\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProfileStatus extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      editMode: false,\n      status: this.props.status\n    };\n\n    this.componentDidMount = () => {//window.bb1 = this.props\n      //console.log('ProfileStatus componentDidMount')\n    };\n\n    this.componentDidUpdate = (prevProps, prevState) => {\n      //Опасная штука. Возможно зацикливание, если использовать обновление State без условия.\n      if (prevProps.status !== this.props.status) {\n        console.log(\"prevProps.status !== this.props.status\");\n        this.setState({\n          status: this.props.status\n        });\n      }\n      /* window.aa1 = prevProps\n          window.aa2 = prevState */\n      //console.log('ProfileStatus componentDidUpdate')\n\n    };\n\n    this.activateEditMode = () => {\n      // debugger\n      //console.log('Hello 12')\n      this.setState({\n        editMode: true\n      });\n    };\n\n    this.deactivateEditMode = () => {\n      this.setState({\n        editMode: false\n      });\n      this.props.updateStatus(this.state.status); //window.bb1 = this\n      //debugger\n    };\n\n    this.onStatusChange = event => {\n      this.setState({\n        status: event.currentTarget.value\n      });\n    };\n  }\n\n  render() {\n    const Ticker = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-status__ticle\",\n      onDoubleClick: this.activateEditMode,\n      children: this.props.status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n\n    const InputArea = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-status__input\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: this.onStatusChange,\n        autoFocus: true,\n        onBlur: this.deactivateEditMode,\n        defaultValue: this.state.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: this.state.editMode ? /*#__PURE__*/_jsxDEV(InputArea, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 37\n      }, this) : /*#__PURE__*/_jsxDEV(Ticker, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 53\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default ProfileStatus;","map":{"version":3,"names":["React","ProfileStatus","Component","state","editMode","status","props","componentDidMount","componentDidUpdate","prevProps","prevState","console","log","setState","activateEditMode","deactivateEditMode","updateStatus","onStatusChange","event","currentTarget","value","render","Ticker","InputArea"],"sources":["/home/roman/wwwl/30_react/react_igor/src/components/Profile/Profileinfo/ProfileStatus.jsx"],"sourcesContent":["import React from \"react\";\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status,\n  };\n  componentDidMount = () => {\n    //window.bb1 = this.props\n    //console.log('ProfileStatus componentDidMount')\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    //Опасная штука. Возможно зацикливание, если использовать обновление State без условия.\n    if (prevProps.status !== this.props.status) {\n      console.log(\"prevProps.status !== this.props.status\");\n      this.setState({\n        status: this.props.status,\n      });\n    }\n    /* window.aa1 = prevProps\n        window.aa2 = prevState */\n    //console.log('ProfileStatus componentDidUpdate')\n  };\n  /*     activateEditMode = () => {\n        this.state.editMode = true\n        console.log(\"Hey\" + this.state.editMode)\n    } */\n  activateEditMode = () => {\n    // debugger\n    //console.log('Hello 12')\n    this.setState({ editMode: true });\n  };\n  deactivateEditMode = () => {\n    this.setState({ editMode: false });\n    this.props.updateStatus(this.state.status);\n    //window.bb1 = this\n    //debugger\n  };\n\n  onStatusChange = (event) => {\n    this.setState({ status: event.currentTarget.value });\n  };\n\n  render() {\n    const Ticker = () => (\n      <div\n        className=\"profile-status__ticle\"\n        onDoubleClick={this.activateEditMode}\n      >\n        {this.props.status}\n      </div>\n    );\n\n    const InputArea = () => (\n      <div className=\"profile-status__input\">\n        <input\n          onChange={this.onStatusChange}\n          autoFocus={true}\n          onBlur={this.deactivateEditMode}\n          defaultValue={this.state.status}\n        />\n      </div>\n    );\n\n    return <>{this.state.editMode ? <InputArea /> : <Ticker />}</>;\n  }\n}\n\nexport default ProfileStatus;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,aAAN,SAA4BD,KAAK,CAACE,SAAlC,CAA4C;EAAA;IAAA;IAAA,KAC1CC,KAD0C,GAClC;MACNC,QAAQ,EAAE,KADJ;MAENC,MAAM,EAAE,KAAKC,KAAL,CAAWD;IAFb,CADkC;;IAAA,KAK1CE,iBAL0C,GAKtB,MAAM,CACxB;MACA;IACD,CARyC;;IAAA,KAU1CC,kBAV0C,GAUrB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;MAC7C;MACA,IAAID,SAAS,CAACJ,MAAV,KAAqB,KAAKC,KAAL,CAAWD,MAApC,EAA4C;QAC1CM,OAAO,CAACC,GAAR,CAAY,wCAAZ;QACA,KAAKC,QAAL,CAAc;UACZR,MAAM,EAAE,KAAKC,KAAL,CAAWD;QADP,CAAd;MAGD;MACD;AACJ;MACI;;IACD,CArByC;;IAAA,KA0B1CS,gBA1B0C,GA0BvB,MAAM;MACvB;MACA;MACA,KAAKD,QAAL,CAAc;QAAET,QAAQ,EAAE;MAAZ,CAAd;IACD,CA9ByC;;IAAA,KA+B1CW,kBA/B0C,GA+BrB,MAAM;MACzB,KAAKF,QAAL,CAAc;QAAET,QAAQ,EAAE;MAAZ,CAAd;MACA,KAAKE,KAAL,CAAWU,YAAX,CAAwB,KAAKb,KAAL,CAAWE,MAAnC,EAFyB,CAGzB;MACA;IACD,CApCyC;;IAAA,KAsC1CY,cAtC0C,GAsCxBC,KAAD,IAAW;MAC1B,KAAKL,QAAL,CAAc;QAAER,MAAM,EAAEa,KAAK,CAACC,aAAN,CAAoBC;MAA9B,CAAd;IACD,CAxCyC;EAAA;;EA0C1CC,MAAM,GAAG;IACP,MAAMC,MAAM,GAAG,mBACb;MACE,SAAS,EAAC,uBADZ;MAEE,aAAa,EAAE,KAAKR,gBAFtB;MAAA,UAIG,KAAKR,KAAL,CAAWD;IAJd;MAAA;MAAA;MAAA;IAAA,QADF;;IASA,MAAMkB,SAAS,GAAG,mBAChB;MAAK,SAAS,EAAC,uBAAf;MAAA,uBACE;QACE,QAAQ,EAAE,KAAKN,cADjB;QAEE,SAAS,EAAE,IAFb;QAGE,MAAM,EAAE,KAAKF,kBAHf;QAIE,YAAY,EAAE,KAAKZ,KAAL,CAAWE;MAJ3B;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;;IAWA,oBAAO;MAAA,UAAG,KAAKF,KAAL,CAAWC,QAAX,gBAAsB,QAAC,SAAD;QAAA;QAAA;QAAA;MAAA,QAAtB,gBAAsC,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA;IAAzC,iBAAP;EACD;;AAhEyC;;AAmE5C,eAAeH,aAAf"},"metadata":{},"sourceType":"module"}